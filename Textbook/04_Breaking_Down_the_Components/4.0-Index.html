<table class="mt-responsive-table">
	<caption>Index: section, what it controls, and what to check when debugging.</caption>
	<colgroup>
		<col style="width: 20%;">
		<col style="width: 40%;">
		<col style="width: 40%;">
	</colgroup>
	<thead>
		<tr>
			<th>Section</th>
			<th>What it controls</th>
			<th>What to check when debugging</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Section" style="background-color: #e2e8f0;">OPL header</td>
			<td data-th="What it controls" style="background-color: #e2e8f0;">Metadata, searchability, and attribution.</td>
			<td data-th="What to check when debugging" style="background-color: #e2e8f0;">Missing TITLE/DESCRIPTION or empty tags.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #dbeafe;">Preamble</td>
			<td data-th="What it controls" style="background-color: #dbeafe;">Macros, rendering switches, and global knobs.</td>
			<td data-th="What to check when debugging" style="background-color: #dbeafe;">Missing macro files, wrong load order, or disabled features.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #dcfce7;">Setup</td>
			<td data-th="What it controls" style="background-color: #dcfce7;">Values, constraints, answers, and graders.</td>
			<td data-th="What to check when debugging" style="background-color: #dcfce7;">Choice list mismatches, wrong correct answer, or grading mistakes.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #ffedd5;">Statement</td>
			<td data-th="What it controls" style="background-color: #ffedd5;">PGML prompt text, structure, and blanks.</td>
			<td data-th="What to check when debugging" style="background-color: #ffedd5;">Blank binding, missing inserts, or formatting breaks.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #fce7f3;">Solution</td>
			<td data-th="What it controls" style="background-color: #fce7f3;">Explanations, trust, and grading alignment.</td>
			<td data-th="What to check when debugging" style="background-color: #fce7f3;">Mismatch between solution conventions and the checker.</td>
		</tr>
	</tbody>
</table>

<p>
Chapter 4 is a single worked problem sliced into OPL Header, Preamble, Setup, Statement, Solution,
and a Put it together workflow page. It mirrors the OpenWeBWorK PG sample-problem structure while
acknowledging the five-section reality so you can scan each layer quickly and edit the right
section first.
</p>
<p>
This chapter is not teaching new syntax. It is teaching how to read a working WeBWorK problem so
you know where to edit safely.
</p>
<p>
The five parts of a problem are visually distinguished throughout this chapter so you can spot
where an edit belongs at a glance.
</p>

<p>
Running example: a short multiple-choice prompt with two radio-button blanks, one vertical and one
horizontal.
</p>

<p>
Instead of treating a problem as a block of code, this chapter treats it as five parts that each
have a job and each fail in predictable ways. The goal is not to memorize syntax, but to build a
reliable editing habit: change one part, test it quickly, and keep the file readable for the next
person.
</p>

<h2>One-screen anatomy (table version)</h2>
<table class="mt-responsive-table">
	<caption>One-screen anatomy (table version) reference.</caption>
	<colgroup>
		<col style="width: 22%;">
		<col style="width: 39%;">
		<col style="width: 39%;">
	</colgroup>
	<thead>
		<tr>
			<th>Section name</th>
			<th>What readers usually change</th>
			<th>What usually breaks</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Section name" style="background-color: #e2e8f0;">OPL header</td>
			<td data-th="What readers usually change" style="background-color: #e2e8f0;">TITLE, keywords, DBsubject tags.</td>
			<td data-th="What usually breaks" style="background-color: #e2e8f0;">Missing DESCRIPTION or empty tags.</td>
		</tr>
		<tr>
			<td data-th="Section name" style="background-color: #dbeafe;">Preamble</td>
			<td data-th="What readers usually change" style="background-color: #dbeafe;">Macro list, display options, parser features.</td>
			<td data-th="What usually breaks" style="background-color: #dbeafe;">Missing macro file, wrong load order, or missing feature.</td>
		</tr>
		<tr>
			<td data-th="Section name" style="background-color: #dcfce7;">Setup</td>
			<td data-th="What readers usually change" style="background-color: #dcfce7;">Answer objects, choice lists, and correctness rules.</td>
			<td data-th="What usually breaks" style="background-color: #dcfce7;">Choice list mismatches or a wrong correct answer.</td>
		</tr>
		<tr>
			<td data-th="Section name" style="background-color: #ffedd5;">Statement</td>
			<td data-th="What readers usually change" style="background-color: #ffedd5;">Story wording, tables, blanks, formatting.</td>
			<td data-th="What usually breaks" style="background-color: #ffedd5;">Unbound blanks, missing variables, malformed PGML.</td>
		</tr>
		<tr>
			<td data-th="Section name" style="background-color: #fce7f3;">Solution</td>
			<td data-th="What readers usually change" style="background-color: #fce7f3;">Explanation steps, rounding notes, units.</td>
			<td data-th="What usually breaks" style="background-color: #fce7f3;">Solution shows a different convention than the checker.</td>
		</tr>
	</tbody>
</table>

	<p>
	If ADAPT reports only a generic error, do a fast local render from
	<a href="/@go/page/555731">Testing and Debugging</a> to get a line number before you troubleshoot the section
	tables below.
	</p>

<h2>Section pages</h2>
<ul>
	<li><a href="/@go/page/555709">Full file</a> &ndash; Full file (reference copy)</li>
	<li><a href="/@go/page/557383">OPL Header</a> &ndash; OPL Header</li>
	<li><a href="/@go/page/555710">Preamble</a> &ndash; Preamble</li>
	<li><a href="/@go/page/555711">Setup</a> &ndash; Setup</li>
	<li><a href="/@go/page/555712">Statement</a> &ndash; Statement</li>
	<li><a href="/@go/page/555713">Solutions</a> &ndash; Solution</li>
	<li><a href="/@go/page/555741">Putting It All Together</a> &ndash; Putting it together</li>
</ul>

<h2>Practical edit map</h2>
<table class="mt-responsive-table">
	<caption>Practical edit map: task, where to edit, and fast check.</caption>
	<colgroup>
		<col style="width: 30%;">
		<col style="width: 35%;">
		<col style="width: 35%;">
	</colgroup>
	<thead>
		<tr>
			<th>Task</th>
			<th>Where to edit</th>
			<th>Fast check</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Task">Change options</td>
			<td data-th="Where to edit">Setup (choice lists)</td>
			<td data-th="Fast check">Render and confirm the correct label still matches.</td>
		</tr>
		<tr>
			<td data-th="Task">Change prompt wording</td>
			<td data-th="Where to edit">Statement (PGML)</td>
			<td data-th="Fast check">Confirm each blank still has an answer attached.</td>
		</tr>
		<tr>
			<td data-th="Task">Add another blank</td>
			<td data-th="Where to edit">Setup then Statement</td>
			<td data-th="Fast check">Verify the new blank label maps to the right answer.</td>
		</tr>
		<tr>
			<td data-th="Task">Change the correct answer</td>
			<td data-th="Where to edit">Setup (answer object)</td>
			<td data-th="Fast check">Confirm the Solution shows the same label.</td>
		</tr>
	</tbody>
</table>

<h2>Section snapshots</h2>
<h3 style="background-color: #e2e8f0; padding: 6px 10px;">OPL header</h3>
<p>
Why this exists: it makes the problem searchable and credits the author.
</p>
<table class="mt-responsive-table">
	<caption>OPL header: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">
				<ul>
					<li>Update TITLE or DESCRIPTION.</li>
					<li>Adjust DBsubject tags.</li>
				</ul>
			</td>
			<td data-th="Common failures">
				<ul>
					<li>Missing DESCRIPTION block.</li>
					<li>Empty or mismatched tags.</li>
				</ul>
			</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #dbeafe; padding: 6px 10px;">Preamble</h3>
<p>
Why this exists: it declares the macros and global options that make the rest of the file possible.
</p>
<table class="mt-responsive-table">
	<caption>Preamble: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">
				<ul>
					<li>Add or remove macro files.</li>
					<li>Enable a parser or display option.</li>
				</ul>
			</td>
			<td data-th="Common failures">
				<ul>
					<li>Macro file not loaded.</li>
					<li>Macro load order hides a feature.</li>
				</ul>
			</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #dcfce7; padding: 6px 10px;">Setup</h3>
<p>
Why this exists: it defines the values, constraints, and answer objects that the PGML uses.
</p>
<table class="mt-responsive-table">
	<caption>Setup: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">
				<ul>
					<li>Edit choice lists or correct answers.</li>
					<li>Adjust layout or ordering options.</li>
				</ul>
			</td>
			<td data-th="Common failures">
				<ul>
					<li>Correct answer no longer matches the list.</li>
					<li>Statement points to the wrong answer object.</li>
				</ul>
			</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #ffedd5; padding: 6px 10px;">Statement</h3>
<p>
Why this exists: it is the PGML prompt students read, including data, structure, and blanks.
</p>
<table class="mt-responsive-table">
	<caption>Statement: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">
				<ul>
					<li>Rewrite the story or add a data table.</li>
					<li>Insert or remove answer blanks.</li>
				</ul>
			</td>
			<td data-th="Common failures">
				<ul>
					<li>Blank missing its attached answer.</li>
					<li>Variable used before it is defined.</li>
				</ul>
			</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #fce7f3; padding: 6px 10px;">Solution</h3>
<p>
Why this exists: it shows the grading target and builds trust without becoming a second lecture.
</p>
<table class="mt-responsive-table">
	<caption>Solution: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">
				<ul>
					<li>Clarify the correct option or rationale.</li>
					<li>Explain how the choice is determined.</li>
				</ul>
			</td>
			<td data-th="Common failures">
				<ul>
					<li>Solution names a different option.</li>
					<li>Solution label does not match grading.</li>
				</ul>
			</td>
		</tr>
	</tbody>
</table>

<p>{{template.ShowOrg()}}</p>
