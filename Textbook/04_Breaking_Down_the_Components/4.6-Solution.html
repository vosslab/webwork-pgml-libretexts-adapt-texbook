<h3 style="background-color: #fce7f3; padding: 6px 10px;">Solution</h3>
<p>
The Solution is for trust and alignment, not grading. It shows students what the system expected
and helps instructors confirm that the checker matches the stated method.
</p>
<p>
The solution does not affect grading, but students trust it more than the grader. A correct
grader with a confusing solution still feels broken, and any mismatch creates disputes.
</p>

<h2>How to read this code</h2>
<p>
The solution is not a second version of the prompt. It is a short explanation that mirrors the
grading logic so students can reconcile their work with what the system checked. Solutions use
the same <a href="/@go/page/555703">PGML syntax</a> as the statement block. A good
solution is compact, accurate, and consistent with the setup section.
</p>
<p>
The excerpt below shows the solution block used in the example.
</p>
<pre>
BEGIN_PGML_SOLUTION
The correct answer to the first is [$radio1->correct_ans].

The correct answer to the second is [$radio2->correct_ans].
END_PGML_SOLUTION
</pre>
<h3>Line notes</h3>
<table class="mt-responsive-table">
	<caption>How to read this code reference.</caption>
	<colgroup>
		<col style="width: 30%;">
		<col style="width: 40%;">
		<col style="width: 30%;">
	</colgroup>
	<thead>
		<tr>
			<th>Line or snippet</th>
			<th>What it does</th>
			<th>What you would change first</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Line or snippet"><code>BEGIN_PGML_SOLUTION</code></td>
			<td data-th="What it does">Starts the solution block.</td>
			<td data-th="What you would change first">Required for PGML solutions.</td>
		</tr>
		<tr>
			<td data-th="Line or snippet">Explanatory text</td>
			<td data-th="What it does">Describes the correct reasoning.</td>
			<td data-th="What you would change first">Keep aligned with grading.</td>
		</tr>
		<tr>
			<td data-th="Line or snippet"><code>-&gt;correct_ans</code></td>
			<td data-th="What it does">Retrieves the expected answer.</td>
			<td data-th="What you would change first">Useful for debugging.</td>
		</tr>
		<tr>
			<td data-th="Line or snippet">Inline PGML</td>
			<td data-th="What it does">Formats output cleanly.</td>
			<td data-th="What you would change first">Match statement style.</td>
		</tr>
		<tr>
			<td data-th="Line or snippet"><code>END_PGML_SOLUTION</code></td>
			<td data-th="What it does">Ends the solution block.</td>
			<td data-th="What you would change first">Always required.</td>
		</tr>
	</tbody>
</table>
<p>
If the solution disagrees with grading, students will trust the grader and distrust the
explanation. Keep the solution minimal and mechanically consistent with the setup logic.
</p>

<p>
The solution must use the same conventions the checker uses. If the checker expects the label
"Blue," the solution should show "Blue," not a shorthand label or a different ordering.
</p>
<p>
Why this exists: it clarifies the target, the method, and the reporting format that the grader
expects.
</p>
<table class="mt-responsive-table">
	<caption>How to read this code: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">
				<ul>
					<li>State the correct option in plain language.</li>
					<li>Add a short rationale for the choice.</li>
				</ul>
			</td>
			<td data-th="Common failures">
				<ul>
					<li>Solution shows a different label than the checker.</li>
					<li>Solution implies a different set of choices.</li>
				</ul>
			</td>
		</tr>
	</tbody>
</table>

<h2>Solution checklist</h2>
<table class="mt-responsive-table">
	<caption>Solution checklist: include, why, and one-sentence example.</caption>
	<colgroup>
		<col style="width: 24%;">
		<col style="width: 36%;">
		<col style="width: 40%;">
	</colgroup>
	<thead>
		<tr>
			<th>Include</th>
			<th>Why</th>
			<th>One-sentence example</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Include">Restate the prompt</td>
			<td data-th="Why">Confirms the student is using the same choices.</td>
			<td data-th="One-sentence example">"The choices are Red, Blue, Green, or None of these."</td>
		</tr>
		<tr>
			<td data-th="Include">State the correct choice</td>
			<td data-th="Why">Makes the target explicit.</td>
			<td data-th="One-sentence example">"The correct answer is Blue."</td>
		</tr>
		<tr>
			<td data-th="Include">Short rationale</td>
			<td data-th="Why">Connects the answer to the intent.</td>
			<td data-th="One-sentence example">"Blue matches the prompt's condition."</td>
		</tr>
		<tr>
			<td data-th="Include">Exact label</td>
			<td data-th="Why">Prevents grading mismatches.</td>
			<td data-th="One-sentence example">"Use the same label shown in the options list."</td>
		</tr>
		<tr>
			<td data-th="Include">Format reminder</td>
			<td data-th="Why">Keeps expectations clear.</td>
			<td data-th="One-sentence example">"Select a single option."</td>
		</tr>
	</tbody>
</table>

<h2>Debugging alignment</h2>
<p>
Use this table as a quick alignment check: the solution should echo the same conventions the
checker uses so students see the expected format.
</p>
<table class="mt-responsive-table">
	<caption>Debugging alignment: grading expectation and solution alignment.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Grading expectation</th>
			<th>Solution alignment</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Grading expectation">Correct answer by value</td>
			<td data-th="Solution alignment">Use the exact label from the choice list.</td>
		</tr>
		<tr>
			<td data-th="Grading expectation">Correct answer by index</td>
			<td data-th="Solution alignment">Show the label, not the index.</td>
		</tr>
		<tr>
			<td data-th="Grading expectation">Reordered choice list</td>
			<td data-th="Solution alignment">Mirror the displayed order or name the label.</td>
		</tr>
	</tbody>
</table>

<h2>Helpful feedback hooks (optional)</h2>
<table class="mt-responsive-table">
	<caption>Helpful feedback hooks (optional): hook and why it helps.</caption>
	<colgroup>
		<col style="width: 32%;">
		<col style="width: 68%;">
	</colgroup>
	<thead>
		<tr>
			<th>Hook</th>
			<th>Why it helps</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Hook">Short rationale line</td>
			<td data-th="Why it helps">Reinforces why the correct option is correct.</td>
		</tr>
		<tr>
			<td data-th="Hook">Distractor reminder</td>
			<td data-th="Why it helps">Helps students distinguish near-miss options.</td>
		</tr>
		<tr>
			<td data-th="Hook">Format reminder</td>
			<td data-th="Why it helps">Signals that exactly one choice is expected.</td>
		</tr>
	</tbody>
</table>

<h2>Broken example: solution contradicts grading logic</h2>
<p>
This problem grades correctly, but the solution confuses students. The explanation no longer
matches what the system actually checked.
</p>
<pre>
BEGIN_PGML_SOLUTION
The correct answer is ATP because it has the highest energy.
END_PGML_SOLUTION
</pre>
<p>
In setup, the answer checker expects ADP.
</p>
<h3>What went wrong</h3>
<ul>
	<li>The solution was written before the setup was finalized.</li>
	<li>The grading logic changed, but the explanation did not.</li>
	<li>Students see a contradiction between feedback and results.</li>
</ul>
<h3>How to recognize it</h3>
<ul>
	<li>Students say, "The solution says X but I was marked wrong for X."</li>
	<li>Preview mode shows correct grading with an incorrect explanation.</li>
	<li>Instructors trust the solution text instead of the grader.</li>
</ul>
<h3>How to fix it</h3>
<p>
Treat the solution as a mirror of the grading logic, not an independent explanation. When
debugging, temporarily echo the computed answer in the solution to verify consistency.
</p>
