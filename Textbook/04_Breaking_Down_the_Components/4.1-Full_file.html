<table class="mt-responsive-table">
	<caption>Full file: section, what it controls, and what to check when debugging.</caption>
	<colgroup>
		<col style="width: 20%;">
		<col style="width: 40%;">
		<col style="width: 40%;">
	</colgroup>
	<thead>
		<tr>
			<th>Section</th>
			<th>What it controls</th>
			<th>What to check when debugging</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Section" style="background-color: #e2e8f0;">OPL header</td>
			<td data-th="What it controls" style="background-color: #e2e8f0;">Metadata, searchability, and attribution.</td>
			<td data-th="What to check when debugging" style="background-color: #e2e8f0;">Missing TITLE/DESCRIPTION or wrong DBsubject tags.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #dbeafe;">Preamble</td>
			<td data-th="What it controls" style="background-color: #dbeafe;">Macros, rendering switches, and global knobs.</td>
			<td data-th="What to check when debugging" style="background-color: #dbeafe;">Missing macro files, wrong load order, or disabled features.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #dcfce7;">Setup</td>
			<td data-th="What it controls" style="background-color: #dcfce7;">Values, constraints, answers, and graders.</td>
			<td data-th="What to check when debugging" style="background-color: #dcfce7;">Bad ranges, unit mismatches, or tolerance mistakes.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #ffedd5;">Statement</td>
			<td data-th="What it controls" style="background-color: #ffedd5;">PGML prompt text, structure, and blanks.</td>
			<td data-th="What to check when debugging" style="background-color: #ffedd5;">Blank binding, missing inserts, or formatting breaks.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #fce7f3;">Solution</td>
			<td data-th="What it controls" style="background-color: #fce7f3;">Explanations, trust, and grading alignment.</td>
			<td data-th="What to check when debugging" style="background-color: #fce7f3;">Mismatch between solution conventions and the checker.</td>
		</tr>
	</tbody>
</table>

<p>
This page shows the full problem file as a reference copy so you can see the entire flow from top
to bottom. For an overview of the five sections, see <a href="/@go/page/488658">Sections within a PG question</a>.
The prompt text uses <a href="/@go/page/488660">PGML</a>. Read the file once as a
story: macros are loaded, values are chosen, the prompt is written, answers are graded, and a
solution explains the work.
</p>

<p>
When you start editing, avoid making changes on this page directly. Use the section pages to make
one targeted change at a time, then come back here to confirm that the full file still reads
cleanly and that values and answers are consistent throughout.
</p>

<p>
As you read, notice which lines are structural and which lines are content. Structural lines are
macro loading and section delimiters; content lines are the prompt text, choice lists, and the
explanation in the solution.
</p>

<h2>Section anchors (reference map)</h2>
<p>
Use this table to find the line where each section starts and ends. When debugging, start by
identifying which section contains the error, then jump to the section-specific page for detailed
guidance.
</p>
<table class="mt-responsive-table">
	<caption>Section anchors (reference map): section, starts at, ends at, and more.</caption>
	<colgroup>
		<col style="width: 18%;">
		<col style="width: 22%;">
		<col style="width: 22%;">
		<col style="width: 38%;">
	</colgroup>
	<thead>
		<tr>
			<th>Section</th>
			<th>Starts at</th>
			<th>Ends at</th>
			<th>One-line description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Section" style="background-color: #e2e8f0;">OPL header</td>
			<td data-th="Starts at" style="background-color: #e2e8f0;">## TITLE(...)</td>
			<td data-th="Ends at" style="background-color: #e2e8f0;">## Institution(...)</td>
			<td data-th="One-line description" style="background-color: #e2e8f0;">Metadata that makes the problem searchable.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #dbeafe;">Preamble</td>
			<td data-th="Starts at" style="background-color: #dbeafe;"># ===== PREAMBLE =====</td>
			<td data-th="Ends at" style="background-color: #dbeafe;"># ===== SETUP =====</td>
			<td data-th="One-line description" style="background-color: #dbeafe;">Loads macros and switches that unlock features.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #dcfce7;">Setup</td>
			<td data-th="Starts at" style="background-color: #dcfce7;"># ===== SETUP =====</td>
			<td data-th="Ends at" style="background-color: #dcfce7;"># ===== STATEMENT =====</td>
			<td data-th="One-line description" style="background-color: #dcfce7;">Defines values, constraints, and answer objects.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #ffedd5;">Statement</td>
			<td data-th="Starts at" style="background-color: #ffedd5;"># ===== STATEMENT =====</td>
			<td data-th="Ends at" style="background-color: #ffedd5;"># ===== SOLUTION =====</td>
			<td data-th="One-line description" style="background-color: #ffedd5;">Contains the PGML prompt students read.</td>
		</tr>
		<tr>
			<td data-th="Section" style="background-color: #fce7f3;">Solution</td>
			<td data-th="Starts at" style="background-color: #fce7f3;"># ===== SOLUTION =====</td>
			<td data-th="Ends at" style="background-color: #fce7f3;">ENDDOCUMENT();</td>
			<td data-th="One-line description" style="background-color: #fce7f3;">Explains the target and matches the grading rules.</td>
		</tr>
	</tbody>
</table>

<p>
Each section page (4.2 through 4.6) walks through the purpose, common edits, and failure patterns
for that part of the file. Start with the section closest to your error. This page is a reference
copy so you can see the whole file in one place after you make changes in the section-specific pages.
</p>

<p>
The tables below give you a one-line summary of what each section does, what you typically edit
there, and what fails most often.
</p>
<h2>Section quick reference</h2>
<h3 style="background-color: #e2e8f0; padding: 6px 10px;">OPL header</h3>
<p>
Why this exists: it documents metadata for search and attribution before any code runs.
</p>
<table class="mt-responsive-table">
	<caption>OPL header: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Update TITLE, KEYWORDS, and DBsubject tags.</td>
			<td data-th="Common failures">Missing DESCRIPTION or empty tags.</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #dbeafe; padding: 6px 10px;">Preamble</h3>
<p>
Why this exists: it declares the macros and global options that make the file render.
</p>
<table class="mt-responsive-table">
	<caption>Preamble: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Add or remove a macro file.</td>
			<td data-th="Common failures">Missing macro that defines a feature.</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #dcfce7; padding: 6px 10px;">Setup</h3>
<p>
Why this exists: it defines the answer objects and correct choices.
</p>
<table class="mt-responsive-table">
	<caption>Setup: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Edit choice lists or correct answers.</td>
			<td data-th="Common failures">Correct answer no longer matches the list.</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #ffedd5; padding: 6px 10px;">Statement</h3>
<p>
Why this exists: it is the PGML prompt with readable structure and blanks.
</p>
<table class="mt-responsive-table">
	<caption>Statement: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Rewrite the story or add a table.</td>
			<td data-th="Common failures">Blank not bound to an answer.</td>
		</tr>
	</tbody>
</table>

<h3 style="background-color: #fce7f3; padding: 6px 10px;">Solution</h3>
<p>
Why this exists: it explains the grading target and the method.
</p>
<table class="mt-responsive-table">
	<caption>Solution: common edits and common failures.</caption>
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Clarify the correct option or rationale.</td>
			<td data-th="Common failures">Solution label does not match grading.</td>
		</tr>
	</tbody>
</table>

<h2>Complete file (reference copy)</h2>
<p>
This is the complete worked example assembled from sections 4.2 through 4.6. Read it once as a
story -- macros load, values are chosen, the prompt appears, answers are graded, and the solution
explains the work.
</p>
<pre>
# ===== OPL HEADER =====
## TITLE('Color choice using radio buttons')
## DESCRIPTION
## Select the correct color label from two radio button formats and confirm the choice labels.
## ENDDESCRIPTION
## KEYWORDS('radio buttons','choice list','PGML prompt')
## DBsubject('Biochemistry')
## DBchapter('Lab techniques')
## DBsection('Reporting conventions')
## Date('2026-01-28')
## Author('Example author')
## Institution('Example institution')

# ===== PREAMBLE =====
DOCUMENT();

loadMacros(
	"PGstandard.pl",
	"PGML.pl",
	"parserRadioButtons.pl",
	"PGcourse.pl",
);

# ===== SETUP =====
$radio1 = RadioButtons(
	[ 'Red', 'Blue', 'Green', 'None of these' ],
	'Blue',
);

$radio2 = RadioButtons(
	[ 'Red', 'Blue', 'Green', 'None of these' ],
	2,
	separator => $SPACE x 5
);

# ===== STATEMENT =====
BEGIN_PGML
My favorite color is

[_]{$radio1}

The same question with horizontal options:

My favorite color is [_]{$radio2}
END_PGML

# ===== SOLUTION =====
BEGIN_PGML_SOLUTION
The correct answer to the first is [$radio1->correct_ans].

The correct answer to the second is [$radio2->correct_ans].
END_PGML_SOLUTION

ENDDOCUMENT();
</pre>
