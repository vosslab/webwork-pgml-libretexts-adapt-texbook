<table class="mt-responsive-table">
	<colgroup>
		<col style="width: 20%;">
		<col style="width: 40%;">
		<col style="width: 40%;">
	</colgroup>
	<thead>
		<tr>
			<th>Section</th>
			<th>What it controls</th>
			<th>What to check when debugging</th>
		</tr>
	</thead>
	<tbody>
		<tr style="background-color: #e2e8f0;">
			<td data-th="Section">OPL header</td>
			<td data-th="What it controls">Metadata, searchability, and attribution.</td>
			<td data-th="What to check when debugging">Missing TITLE/DESCRIPTION or wrong DBsubject tags.</td>
		</tr>
		<tr style="background-color: #dbeafe;">
			<td data-th="Section">Preamble</td>
			<td data-th="What it controls">Macros, rendering switches, and global knobs.</td>
			<td data-th="What to check when debugging">Missing macro files, wrong load order, or disabled features.</td>
		</tr>
		<tr style="background-color: #dcfce7;">
			<td data-th="Section">Setup</td>
			<td data-th="What it controls">Values, constraints, answers, and graders.</td>
			<td data-th="What to check when debugging">Bad ranges, unit mismatches, or tolerance mistakes.</td>
		</tr>
		<tr style="background-color: #ffedd5;">
			<td data-th="Section">Statement</td>
			<td data-th="What it controls">PGML prompt text, structure, and blanks.</td>
			<td data-th="What to check when debugging">Blank binding, missing inserts, or formatting breaks.</td>
		</tr>
		<tr style="background-color: #fce7f3;">
			<td data-th="Section">Solution</td>
			<td data-th="What it controls">Explanations, trust, and grading alignment.</td>
			<td data-th="What to check when debugging">Mismatch between solution conventions and the checker.</td>
		</tr>
	</tbody>
</table>

<p>
This page shows the full problem file as a reference copy so you can see the entire flow from top
to bottom. For an overview of the five sections, see <a href="/@go/page/488658">Section 2.4</a>.
The prompt text uses <a href="/@go/page/488660">PGML</a> (Chapter 3). Read the file once as a
story: macros are loaded, values are chosen, the prompt is written, answers are graded, and a
solution explains the work.
</p>

<p>
When you start editing, avoid making changes on this page directly. Use the section pages to make
one targeted change at a time, then come back here to confirm that the full file still reads
cleanly and that values and answers are consistent throughout.
</p>

<p>
As you read, notice which lines are structural and which lines are content. Structural lines are
macro loading and section delimiters; content lines are the prompt text, choice lists, and the
explanation in the solution.
</p>

<h2>Section anchors (reference map)</h2>
<table class="mt-responsive-table">
	<colgroup>
		<col style="width: 18%;">
		<col style="width: 22%;">
		<col style="width: 22%;">
		<col style="width: 38%;">
	</colgroup>
	<thead>
		<tr>
			<th>Section</th>
			<th>Starts at</th>
			<th>Ends at</th>
			<th>One-line description</th>
		</tr>
	</thead>
	<tbody>
		<tr style="background-color: #e2e8f0;">
			<td data-th="Section">OPL header</td>
			<td data-th="Starts at">## TITLE(...)</td>
			<td data-th="Ends at">## Institution(...)</td>
			<td data-th="One-line description">Metadata that makes the problem searchable.</td>
		</tr>
		<tr style="background-color: #dbeafe;">
			<td data-th="Section">Preamble</td>
			<td data-th="Starts at"># ===== PREAMBLE =====</td>
			<td data-th="Ends at"># ===== SETUP =====</td>
			<td data-th="One-line description">Loads macros and switches that unlock features.</td>
		</tr>
		<tr style="background-color: #dcfce7;">
			<td data-th="Section">Setup</td>
			<td data-th="Starts at"># ===== SETUP =====</td>
			<td data-th="Ends at"># ===== STATEMENT =====</td>
			<td data-th="One-line description">Defines values, constraints, and answer objects.</td>
		</tr>
		<tr style="background-color: #ffedd5;">
			<td data-th="Section">Statement</td>
			<td data-th="Starts at"># ===== STATEMENT =====</td>
			<td data-th="Ends at"># ===== SOLUTION =====</td>
			<td data-th="One-line description">Contains the PGML prompt students read.</td>
		</tr>
		<tr style="background-color: #fce7f3;">
			<td data-th="Section">Solution</td>
			<td data-th="Starts at"># ===== SOLUTION =====</td>
			<td data-th="Ends at">ENDDOCUMENT();</td>
			<td data-th="One-line description">Explains the target and matches the grading rules.</td>
		</tr>
	</tbody>
</table>

<p>
<strong>Start edits in 4.2 to 4.6.</strong> This page is a reference copy so you can see the whole
file in one place after you make changes in the section-specific pages.
</p>

<h2>Section quick reference</h2>
<p style="background-color: #e2e8f0; padding: 6px 10px;"><strong>OPL header</strong></p>
<p>
Why this exists: it documents metadata for search and attribution before any code runs.
</p>
<table class="mt-responsive-table">
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Update TITLE, KEYWORDS, and DBsubject tags.</td>
			<td data-th="Common failures">Missing DESCRIPTION or empty tags.</td>
		</tr>
	</tbody>
</table>

<p style="background-color: #dbeafe; padding: 6px 10px;"><strong>Preamble</strong></p>
<p>
Why this exists: it declares the macros and global options that make the file render.
</p>
<table class="mt-responsive-table">
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Add or remove a macro file.</td>
			<td data-th="Common failures">Missing macro that defines a feature.</td>
		</tr>
	</tbody>
</table>

<p style="background-color: #dcfce7; padding: 6px 10px;"><strong>Setup</strong></p>
<p>
Why this exists: it defines the answer objects and correct choices.
</p>
<table class="mt-responsive-table">
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Edit choice lists or correct answers.</td>
			<td data-th="Common failures">Correct answer no longer matches the list.</td>
		</tr>
	</tbody>
</table>

<p style="background-color: #ffedd5; padding: 6px 10px;"><strong>Statement</strong></p>
<p>
Why this exists: it is the PGML prompt with readable structure and blanks.
</p>
<table class="mt-responsive-table">
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Rewrite the story or add a table.</td>
			<td data-th="Common failures">Blank not bound to an answer.</td>
		</tr>
	</tbody>
</table>

<p style="background-color: #fce7f3; padding: 6px 10px;"><strong>Solution</strong></p>
<p>
Why this exists: it explains the grading target and the method.
</p>
<table class="mt-responsive-table">
	<colgroup>
		<col style="width: 50%;">
		<col style="width: 50%;">
	</colgroup>
	<thead>
		<tr>
			<th>Common edits</th>
			<th>Common failures</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td data-th="Common edits">Clarify the correct option or rationale.</td>
			<td data-th="Common failures">Solution label does not match grading.</td>
		</tr>
	</tbody>
</table>

<h2>Complete file (reference copy)</h2>
<pre>
# ===== OPL HEADER =====
## TITLE('Color choice using radio buttons')
## DESCRIPTION
## Select the correct color label from two radio button formats and confirm the choice labels.
## ENDDESCRIPTION
## KEYWORDS('radio buttons','choice list','PGML prompt')
## DBsubject('Biochemistry')
## DBchapter('Lab techniques')
## DBsection('Reporting conventions')
## Date('2026-01-28')
## Author('Example author')
## Institution('Example institution')

# ===== PREAMBLE =====
DOCUMENT();

loadMacros(
	"PGstandard.pl",
	"PGML.pl",
	"parserRadioButtons.pl",
	"PGcourse.pl",
);

# ===== SETUP =====
$radio1 = RadioButtons(
	[ 'Red', 'Blue', 'Green', 'None of these' ],
	'Blue',
);

$radio2 = RadioButtons(
	[ 'Red', 'Blue', 'Green', 'None of these' ],
	2,
	separator => $SPACE x 5
);

# ===== STATEMENT =====
BEGIN_PGML
My favorite color is

[_]{$radio1}

The same question with horizontal options:

My favorite color is [_]{$radio2}
END_PGML

# ===== SOLUTION =====
BEGIN_PGML_SOLUTION
The correct answer to the first is [$radio1->correct_ans].

The correct answer to the second is [$radio2->correct_ans].
END_PGML_SOLUTION

ENDDOCUMENT();
</pre>
