<p>
Multi-Part Fill-in-the-Blank (MULTI_FIB) is best when students must supply several short answers
within a single prompt. This matches many science workflows (labeling, short computed parts, or
multi-step interpretation). For single-blank questions, see
<a href="/@go/page/555719">Section 5.6</a> instead.
</p>
<p>
Multi-blank prompts are great for short workflows, but they fail when blanks are not clearly tied
to a specific request. Keep each blank's request local to the blank, keep formatting consistent
across blanks, and prefer two to three blanks unless the prompt is very structured. When students
miss one part, they should still understand what each other blank was asking.
</p>

<h2>Inputs</h2>
<ul>
	<li><code>question_text</code> (str)</li>
	<li><code>answer_map</code> (dict): map from blank position to correct answer</li>
</ul>

<h2>Science example (genotype to phenotype)</h2>
<pre>
question_text:
  For a monohybrid cross Aa x Aa:
  - The expected fraction of aa offspring is [blank_1].
  - The expected fraction of offspring showing the dominant phenotype is [blank_2].

answer_map:
  blank_1: 1/4
  blank_2: 3/4
</pre>
<p>
Official example (OpenWeBWorK PG samples): <a href="https://openwebwork.github.io/pg-docs/sample-problems/ProblemTechniques/Multianswer.html">Multianswer</a>.
</p>

<h2>Preferred PGML pattern</h2>
<p>
Define each answer as a separate named variable and attach each one inline in the PGML
blank closest to its prompt (see <a href="/@go/page/555704">Section 3.2</a> for answer blank
syntax). Do not use anonymous evaluator arrays or rely on implicit
<code>ANS(...)</code> ordering.
</p>
<pre>
Context("Numeric");
$ans_a = Compute("1/4");
$ans_b = Compute("3/4");

BEGIN_PGML
For a monohybrid cross Aa x Aa:

Part A: The expected fraction of aa offspring is [__________]{$ans_a}.

Part B: The expected fraction showing the dominant
phenotype is [__________]{$ans_b}.
END_PGML
</pre>
<p>
For mixed formats (for example a RadioButtons part and a numeric part), define each answer
object separately and place its blank next to the corresponding text. Keep variable naming
consistent (<code>$ans_a</code>, <code>$ans_b</code>, or <code>$ans1</code>,
<code>$ans2</code>).
</p>

<h2>Complete working examples</h2>
<p>
<strong>Genetics cross fractions</strong> -- Calculate two expected fractions from a
monohybrid cross between heterozygous parents.
</p>
<pre>
## TITLE('Monohybrid cross fractions')
## DESCRIPTION
## Calculate the expected fraction of homozygous recessive
## and dominant phenotype offspring from Aa x Aa.
## ENDDESCRIPTION
## KEYWORDS('genetics','monohybrid','multi-part','numeric')
## DBsubject('Genetics')
## DBchapter('Mendelian Genetics')
## DBsection('Monohybrid Cross')
## Date('2026-02-15')
## Author('Author name')
## Institution('Institution name')

DOCUMENT();
loadMacros(
	"PGstandard.pl",
	"MathObjects.pl",
	"PGML.pl",
	"PGcourse.pl",
);

Context("Numeric");
$ans_a = Compute("1/4");
$ans_b = Compute("3/4");

BEGIN_PGML
For a monohybrid cross Aa x Aa:

Part A: The expected fraction of aa offspring is
[__________]{$ans_a}.

Part B: The expected fraction showing the dominant
phenotype is [__________]{$ans_b}.
END_PGML

ENDDOCUMENT();
</pre>
<p>
<strong>Three-part dilution</strong> -- Calculate stock concentration, dilution factor,
and final concentration across three answer blanks.
</p>
<pre>
## TITLE('Three-part dilution problem')
## DESCRIPTION
## Given a dilution scenario, calculate the stock concentration
## in different units, the dilution factor, and the final
## concentration.
## ENDDESCRIPTION
## KEYWORDS('dilution','multi-part','numeric','concentration')
## DBsubject('Biochemistry')
## DBchapter('Concentrations')
## DBsection('Dilution')
## Date('2026-02-15')
## Author('Author name')
## Institution('Institution name')

DOCUMENT();
loadMacros(
	"PGstandard.pl",
	"MathObjects.pl",
	"PGML.pl",
	"PGcourse.pl",
);

Context("Numeric");
$stock_mM = random(10, 50, 10);
$stock_uM = Real($stock_mM * 1000);
$dilution_factor = list_random(5, 10, 20);
$final_uM = Real($stock_uM / $dilution_factor);

BEGIN_PGML
A stock solution has a concentration of [$stock_mM] mM.

Part A: What is the stock concentration in uM?
[__________]{$stock_uM}

Part B: If you dilute it 1:[$dilution_factor], what is the
dilution factor? [__________]{$dilution_factor}

Part C: What is the final concentration in uM?
[__________]{$final_uM}
END_PGML

ENDDOCUMENT();
</pre>

<h2>Authoring notes</h2>
<ul>
	<li>Keep blanks unambiguous and label them consistently.</li>
	<li>Use consistent formatting for answers (fractions vs decimals).</li>
</ul>
