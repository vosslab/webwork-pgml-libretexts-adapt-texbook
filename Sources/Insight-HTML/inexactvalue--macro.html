<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>InexactValue  Macro (Significant Figures)</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		body { max-width: 900px; margin: 2rem auto; padding: 0 1rem; }
		body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
		pre, code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
		pre { overflow-x: auto; padding: 0.75rem; border: 1px solid #ddd; }
		blockquote { border-left: 4px solid #ddd; padding-left: 1rem; color: #444; }
		.meta { color: #555; font-size: 0.95rem; margin: 0.75rem 0 1.25rem 0; }
		.source { color: #555; font-size: 0.95rem; margin-bottom: 0.25rem; }
	</style>
</head>
<body>
	<h1>InexactValue  Macro (Significant Figures)</h1>
	<div class="source">Source: <a href="https://commons.libretexts.org/insight/inexactvalue--macro">https://commons.libretexts.org/insight/inexactvalue--macro</a></div>
	<div class="meta">Last updated at 07/07/2024 03:14 AM by Delmar Larsen</div>
<p class="max-w-6xl"><span class="font-medium">Description</span>: <span class="italic">This repo is a work-in-progress! It has not yet been added to the WeBWorK repo as it needs more testing and improvements. If you want to contribute, please submit a PR! It's easy to do. (Fork this rep</span></p>
<div class="prose !max-w-full"><p><a style="background-color: rgba(251, 251, 251, 0.5); color: rgb(30, 112, 191);" rel="noopener noreferrer" href="https://github.com/WeBWorK-for-Chemistry/WeBWorKChemistry/wiki/Typical-WeBWorK-problem-with-InexactValue" target="_blank">https://github.com/WeBWorK-for-Chemistry/WeBWorKChemistry/wiki/Typical-WeBWorK-problem-with-InexactValue</a></p><p><br></p><p><span class="ql-cursor"> </span>You will need to add the "contextInexactValue.pl" macro at the very least in addition to the standard macros:</p><pre spellcheck="false" class="ql-syntax">DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGML.pl",
"contextInexactValue.pl"
);
</pre><p><br></p><p>Start with declaring the InexactValue context. You can follow up with several options that determine how the problem will be graded:</p><pre spellcheck="false" class="ql-syntax">Context("InexactValue");
Context()-&gt;flags-&gt;set(failOnValueWrong=&gt;1);  # must have value correct (no partial credit for getting sig figs only)
Context()-&gt;flags-&gt;set(creditValue=&gt;0.75);    # 75% credit for correct answer (default is 50%)
Context()-&gt;flags-&gt;set(creditSigFigs=&gt;0.25);  # 25% credit for sig figs
</pre><p><br></p><p>The&nbsp;<code style="background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));">failOnValueWrong</code>&nbsp;gives zero credit if the answer doesn't match with the exception of sig fig errors and some rounding errors. You will always want this to be true (1) unless you are making a problem where the intention is to grade sig figs only. i.e. the problem is&nbsp;<em>about</em>&nbsp;correct sig figs.</p><p>Next, start generating your values for your problems using the shortcut&nbsp;<code style="background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));">InexactValue</code>. There are two ways to use it:</p><ul><li>string (text) values</li><li>number values with explicit sig figs as a second parameter</li></ul><p><em>I would almost always recommend entering values as a string.</em>&nbsp;There are potential side-effects to entering values as numbers that are discussed on the main page, so avoid it if possible.</p><pre spellcheck="false" class="ql-syntax">$mass = InexactValue('2.40');
$volume = InexactValue('3.5');
</pre><p><br></p><p>You can now do any type of math with these variables and significant figures will be calculated automatically.</p><pre spellcheck="false" class="ql-syntax">$density = $mass / $volume;
</pre><p><br></p><p>Now, let's put these into a PGML Question:</p><pre spellcheck="false" class="ql-syntax">BEGIN_PGML

Determine the density of an unknown liquid that has a mass of [$mass] grams and a volume of [$volume] milliliters.

[______]{$density} g/mL

Enter the value with the appropriate number of significant figures.

END_PGML
</pre><p><br></p><p>That's it! The calculator answer is 0.685714... and it keeps going. This value is stored within&nbsp;<code style="background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));">$density</code>, but the student will only get it&nbsp;<em>right</em>&nbsp;if they enter within 2 decimals of the correct number of significant figures. So,&nbsp;<code style="background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));">0.7</code>,&nbsp;<code style="background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));">0.686</code>, and&nbsp;<code style="background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));">0.6857</code>&nbsp;are correct for 75% of credit. They lose 25% of credit for incorrect sig figs. To get 100%, they would need to enter&nbsp;<code style="background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted));">0.69</code>.</p></div>
</body>
</html>
